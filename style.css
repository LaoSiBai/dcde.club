@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@100..900&family=Space+Grotesk:wght@300..700&display=swap');

/* =========================================
   1. 字体定义
   ========================================= */
/* 现在同时从 Google Fonts 加载 Space Grotesk 和 Noto Sans SC */

/* =========================================
   2. 全局变量
   ========================================= */
:root {
    --brand-color: #338BFF;
    --text-color: #000000;
    --bg-color: #ffffff;
    --desc-gray: #999999;

    /* 使用 Noto Sans SC 替代 AlimamaFangYuan */
    --main-font: 'Space Grotesk', 'Noto Sans SC', sans-serif;

    --grid-cols: 4;
    --cell-size: 25vw;
    --grid-line-color: rgba(51, 139, 255, 0.25);

    /* 字重规范 (BEVL: medium/bold=1, light/regular=80) */
    --font-weight-light: 300;
    --font-weight-regular: 400;
    --font-weight-medium: 500;
    --font-weight-bold: 700;

    /* 字体大小规范 (Desktop - 固定值) */
    --text-display: 64px;
    /* Nav Links - 大标题 */
    --text-title: 48px;
    /* Project Titles / Info Headlines */
    --text-subtitle: 32px;
    /* Global Description */
    --text-body: 20px;
    /* Detail Text - 正文 */
    --text-meta-label: 14px;
    /* Meta Label */
    --text-meta-value: 16px;
    /* Meta Value */
    --text-footer: 16px;
    /* Footer */
}

/* =========================================
   3. 基础设置
   ========================================= */

/* 全局加载动画 */
/* 全局加载动画已移至 JavaScript 控制 (scroll-reveal) */

.grid-cell:nth-child(8) {
    animation-delay: 0.4s;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--main-font);
    color: var(--text-color);
    background-color: var(--bg-color);
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    line-height: 1.4;
    letter-spacing: -0.05em;
    /* 缩小全局字间距 */
    /* 背景网格 */
    background-image:
        linear-gradient(var(--grid-line-color) 1px, transparent 1px),
        linear-gradient(90deg, var(--grid-line-color) 1px, transparent 1px);
    background-size: var(--cell-size) var(--cell-size);
    background-position: -1px -1px;
}

body.no-scroll {
    overflow: hidden !important;
}

a {
    text-decoration: none;
    color: inherit;
}

/* 
   [修改] 通用交互类：下划线 + 字重变粗动画
*/
.hover-link {
    cursor: pointer;
    font-weight: var(--font-weight-light);
    transition: all 0.3s ease;

    /* 下划线样式调整 */
    text-decoration: underline;
    text-decoration-thickness: 3px;
    /* 加粗 */
    text-underline-offset: 0.15em;
    /* 靠近文字 */
    text-decoration-color: #000;
}

.hover-link:hover {
    color: var(--brand-color);
    font-weight: 600;
    /* 保留一个特殊的 hover 加粗 */
    text-decoration-color: var(--brand-color);
}

/* =========================================
   4. Header 区域
   ========================================= */
.site-header {
    position: relative;
    width: 100vw;
    height: var(--cell-size);
    background-color: transparent;
}

.nav-row-border {
    position: relative;
}

.nav-row-border::after {
    content: '';
    position: absolute;
    bottom: -1.5px;
    left: 0;
    right: 0;
    height: 3px;
    background-color: var(--brand-color);
}

.nav-text {
    position: absolute;
    top: 1vw;
    font-size: var(--text-display);
    line-height: 1.0;
    letter-spacing: -0.02em;
    z-index: 20;
    font-weight: var(--font-weight-regular);
    /* Default nav font weight */
}

.pos-1 {
    left: 0%;
    padding-left: 1vw;
}

.pos-2 {
    left: 25%;
    padding-left: 1vw;
}

.pos-3 {
    left: 50%;
    padding-left: 1vw;
}

.pos-4 {
    left: 75%;
    padding-left: 1vw;
}

#global-desc {
    position: absolute;
    top: 6.5vw;
    left: 1vw;
    width: 90vw;
    font-family: var(--main-font);
    font-size: var(--text-subtitle);
    font-weight: var(--font-weight-medium);
    line-height: 1.2;
    color: var(--desc-gray);
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
    z-index: 5;
}

.logo-svg {
    position: absolute;
    bottom: 1vw;
    left: 1vw;
    /* 55%就可以了，我测试的 */
    height: 55%;
    width: auto;
    display: block;
    z-index: 1;
}

.logo-svg img {
    height: 100%;
    width: auto;
}

/* =========================================
   5. Main 区域
   ========================================= */
.grid-container {
    display: grid;
    grid-template-columns: repeat(var(--grid-cols), 1fr);
    grid-auto-rows: var(--cell-size);
    width: 100vw;
    position: relative;
    /* 确保在 canvas 之上 */
    z-index: 10;
}

/* 详情页专用网格配置：前两行固定(封面)，第三行自适应(正文) */
.detail-grid {
    grid-template-rows: var(--cell-size) var(--cell-size) auto;
    grid-auto-rows: auto;
}

.grid-cell {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: flex-start;
    position: relative;
    padding: 1vw;
}

.p-0 {
    padding: 0 !important;
}

.big-square {
    grid-column: span 2;
    grid-row: span 1;
}

/* 作品页封面专用 */
.cover-square {
    grid-column: span 4;
    grid-row: span 2;
}

/* Helper Classes for Detail Grid */
.col-start-2 {
    grid-column-start: 2;
}

.col-span-3 {
    grid-column: span 3;
}

.col-full {
    grid-column: 1 / -1;
}

.row-start-2 {
    grid-row-start: 2;
}

.project-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    background-color: transparent;
    cursor: default;
}

.project-img {
    width: auto;
    height: auto;
    max-width: 75%;
    max-height: 75%;
    object-fit: contain;
    filter: drop-shadow(0 0 0 rgba(0, 0, 0, 0));
    transform: translateY(0);
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    cursor: pointer;
}

.project-img:hover {
    transform: translateY(-6px);
    filter: drop-shadow(0 6px 2px rgba(0, 0, 0, 0.25));
}

.footer-text {
    position: absolute;
    bottom: 1vw;
    right: 1vw;
    text-align: right;
    font-size: var(--text-footer);
    color: #999;
    font-weight: var(--font-weight-regular);
}

/* =========================================
   6. 作品详情抽屉
   ========================================= */
#project-drawer {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: var(--bg-color);
    background-image:
        linear-gradient(to right, var(--grid-line-color) 1px, transparent 1px),
        linear-gradient(to bottom, var(--grid-line-color) 1px, transparent 1px);
    background-size: var(--cell-size) var(--cell-size);
    background-attachment: local;
    z-index: 100;
    transform: translateY(100%);
    transition: transform 0.6s cubic-bezier(0.25, 1, 0.5, 1);
    overflow-y: auto;
    padding-bottom: 5vw;
}

#project-drawer.active {
    transform: translateY(0%);
}

/* #close-drawer styles removed as it now uses .nav-text classes */

#drawer-content {
    width: 100%;
    max-width: 100%;
    padding-top: 0;
}

/* 详情页组件 */
.meta-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    border-bottom: 1px solid #eee;
    margin-bottom: 4vw;
}

.meta-item {
    padding: 2vw;
    border-right: 1px solid #eee;
    display: flex;
    flex-direction: column;
    gap: 0.5vw;
}

.meta-label {
    font-family: var(--main-font);
    font-size: var(--text-meta-label);
    color: #999;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-weight: var(--font-weight-regular);
}

.meta-value {
    font-family: var(--main-font);
    font-size: var(--text-meta-value);
    color: var(--desc-gray);
    font-weight: var(--font-weight-medium);
    line-height: 1.3;
}

.detail-text {
    width: 100%;
    margin: 0 0 5vw 0;
    /* 只保留底部间距 */
    font-family: var(--main-font);
    font-size: var(--text-body);
    line-height: 1.5;
    color: #333;
    font-weight: var(--font-weight-medium);
}

.detail-img {
    display: block;
    width: 100%;
    height: auto;
    margin-bottom: 1vw;
}

/* 细节图片区域（全宽，不受网格限制） */
.detail-images {
    width: 100%;
    padding: 0;
}

/* 通用滚动渐显动画 - 暂时禁用，默认显示 */
.scroll-reveal {
    opacity: 1;
    transform: none;
}

.scroll-reveal.visible {
    opacity: 1;
    transform: translateY(0);
}

.detail-images img {
    display: block;
    width: 100%;
    height: auto;
}

/* 逐行渐显动画 */
.line-reveal {
    display: block;
    opacity: 0;
    transform: translateY(10px);
    animation: lineReveal 0.5s ease-out forwards;
}

@keyframes lineReveal {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* =========================================
   7. 移动端适配
   ========================================= */
@media screen and (max-width: 768px) {
    :root {
        --grid-cols: 2;
        --cell-size: 50vw;

        /* 移动端字体大小重定义 (固定值) */
        --text-display: 36px;
        --text-title: 32px;
        --text-subtitle: 24px;
        --text-body: 18px;
        --text-meta-label: 12px;
        --text-meta-value: 14px;
        --text-footer: 14px;
    }

    /* Header */
    .site-header {
        height: 50vw;
    }

    .nav-text {
        font-size: var(--text-display);
    }

    .pos-1 {
        left: 0%;
    }

    .pos-2 {
        left: 50%;
    }

    .pos-3 {
        left: 0%;
        top: 8vw;
    }

    .pos-4 {
        left: 50%;
        top: 8vw;
    }

    #global-desc {
        display: none;
    }

    .logo-svg {
        height: 60%;
        bottom: 2vw;
    }

    /* Grid */
    .grid-container {
        grid-template-columns: repeat(2, 1fr);
    }

    .big-square {
        grid-column: span 2;
        grid-row: span 1;
    }

    /* 详情页辅助类调整 */
    .col-span-3 {
        grid-column: span 2;
    }

    .col-start-2 {
        grid-column-start: 1;
    }

    /* Typography */
    .detail-text {
        font-size: var(--text-body);
        width: 100%;
        padding: 0;
        /*  Removed 4vw padding per user request */
        margin: 0;
        /* Ensure no extra margin */
    }

    .meta-label {
        font-size: var(--text-meta-label);
    }

    .meta-value {
        font-size: var(--text-meta-value);
    }

    /* Cover Square on Mobile: Span 1 Row (Full Width) */
    .cover-square {
        grid-column: 1 / -1 !important;
        grid-row: span 1 !important;
    }

    /* 详情页移动端布局 - 内容上移一行 */
    .project-title-cell {
        grid-column: 1 !important;
        grid-row: 2 !important;
    }

    .project-title {
        font-size: var(--text-title) !important;
        line-height: 1.1 !important;
    }

    .project-meta-desktop {
        display: none !important;
    }

    .project-meta-mobile {
        display: block !important;
        grid-column: 2 !important;
        grid-row: 2 !important;
    }

    /* 正文移动端 */
    .col-start-2.col-span-3[style*="grid-row: 3"] {
        grid-row: 3 !important;
        grid-column: 1 / -1 !important;
        padding: 1vw !important;
        /* 确保与网格间距一致 */
    }

    .footer-text {
        font-size: var(--text-footer);
    }
}